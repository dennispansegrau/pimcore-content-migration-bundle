{% autoescape false %}
{% if type == 'email' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\EmailBuilder' %}
{% elseif type == 'folder' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\FolderBuilder' %}
{% elseif type == 'hardlink' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\HardLinkBuilder' %}
{% elseif type == 'link' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\LinkBuilder' %}
{% elseif type == 'page' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\PageBuilder' %}
{% elseif type == 'snippet' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\SnippetBuilder' %}
{% elseif type == 'document' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\DocumentBuilder' %}
{% elseif type == 'printpage' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\PrintPageBuilder' %}
{% elseif type == 'printcontainer' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\PrintContainerBuilder' %}
{% elseif type == 'newsletter' %}
    {% set builder = '\\PimcoreContentMigration\\Builder\\Document\\NewsletterBuilder' %}
{% else %}

        // TODO: Insert a builder
        // No Builder found for type {{ type }}. Please create an own builder.
        // You can extend the \PimcoreContentMigration\Builder\Document\DocumentBuilder.
    {% set builder = '[YOUR-BUILDER]' %}
{% endif %}

        {{ builder }}::createOrUpdate('{{ document.getFullPath() }}')
{# BUILDER SPECIFIC SETTER #}
{% if type == 'email' %}
            ->setSubject('{{ document.getSubject() }}')
            ->setTo('{{ document.getTo() }}')
            ->setFrom('{{ document.getFrom() }}')
            ->setReplyTo('{{ document.getReplyTo() }}')
            ->setCc('{{ document.getCc() }}')
            ->setBcc('{{ document.getBcc() }}')
{% elseif type == 'folder' %}
{% elseif type == 'hardlink' %}
{% elseif type == 'link' %}
{% elseif type == 'page' %}
{% elseif type == 'snippet' %}
{% elseif type == 'printpage' %}
{% elseif type == 'printcontainer' %}
{% elseif type == 'newsletter' %}
{% endif %}
{# DOCUMENT BUILDER SETTER #}
            ->setIndex({{ document.getIndex() }})
            ->setType('{{ document.getType() }}')
            ->setController({% if document.getController() %}'{{ document.getController() }}'{% else %}null{% endif %})
            ->setTemplate({% if document.getTemplate() %}'{{ document.getTemplate() }}'{% else %}null{% endif %})
{% for property in document.getProperties %}
            ->setProperty('{{ property.getName() }}', '{{ property.getType() }}', {% if property.getType() == 'bool' %}{{ property.getData() ? 'true' : 'false' }}{% else %}'{{ property.getData() }}'{% endif %}, {{ property.getInherited() ? 'true' : 'false' }}, {{ property.getInheritable() ? 'true' : 'false' }})
{% endfor %}
{% for editable in document.getEditables() %}
            ->setRawEditable('{{ editable.name }}', '{{ editable.type }}', '{{ editable.data|json_encode(constant('JSON_PRETTY_PRINT')) }}')
{% endfor %}
            ->setPublished({{ document.getPublished() ? 'true' : 'false' }})
            ->save();
{% endautoescape %}