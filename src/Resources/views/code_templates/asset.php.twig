{% autoescape false %}
private function {{ methodName }}(): {{ classname }}
    {
{% if builder is null %}
        // TODO: Insert a builder
        // No Builder found for type {{ type }}. Please create your own builder.
        // You can extend the \PimcoreContentMigration\Builder\Asset\AssetBuilder or any other builder.

{% set builder = '[YOUR-BUILDER]' %}
{% endif %}
{% if dependencies is not empty %}
        # Find or create dependency dummies (without content)
{% for dependency in dependencies %}
        ${{ dependency.variableName }} = $this->{{ dependency.methodName }}();
{% endfor %}

{% endif %}
{% if settings.withDependencies() %}
    # Create {{ type }} {{ asset.getFullPath() }}
    return {{ builder }}::findOrCreate({{ pcmb_value_to_string(asset.getFullPath(), dependencies) }}{% if dataPath is not null %}, __DIR__ . '{{ dataPath.getRelativePath() }}'{% endif %})
{# BUILDER SPECIFIC SETTER #}
{% if type == 'archive' %}
{% elseif type == 'audio' %}
{% elseif type == 'document' %}
{% elseif type == 'folder' %}
{% elseif type == 'image' %}
{% elseif type == 'text' %}
{% elseif type == 'unknown' %}
{% elseif type == 'video' %}
{% endif %}
{# ASSET BUILDER SETTER #}
    ->setDataChanged(true)
    ->setType('{{ asset.getType() }}')
    ->setMimeType('{{ asset.getMimeType()}}')
{% for key, value in asset.getCustomSettings() %}
    ->setCustomSetting({{ pcmb_value_to_string(key, dependencies) }}, {{ pcmb_value_to_string(value, dependencies) }})
{% endfor %}
{% for meta in asset.getMetaData() %}
    ->addMetadata({{ pcmb_value_to_string(meta.name, dependencies) }}, {{ pcmb_value_to_string(meta.type, dependencies) }}, {{ pcmb_value_to_string(meta.data, dependencies) }}, {{ pcmb_value_to_string(meta.language, dependencies) }})
{% endfor %}
{% for property in asset.getProperties %}
    ->setProperty({{ pcmb_value_to_string(property.getName(), dependencies) }}, {{ pcmb_value_to_string(property.getType(), dependencies) }}, {{ pcmb_value_to_string(property.getData(), dependencies) }}, {{ pcmb_value_to_string(property.getInherited(), dependencies) }}, {{ pcmb_value_to_string(property.getInheritable(), dependencies) }})
{% endfor %}
    ->save()
    ->getObject();
}
{% for dependency in dependencies %}

    {{ dependency.code }}
{%- endfor %}
{% else %}
        return {{ builder }}::findOrCreate({{ pcmb_value_to_string(asset.getFullPath(), dependencies) }}{% if dataPath is not null %}, __DIR__ . '{{ dataPath.getRelativePath() }}'{% endif %})
            ->getObject();
    }
{% endif %}
{% endautoescape %}